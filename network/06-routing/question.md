## 라우팅 질문

<details>
    <summary>
        <strong style="font-size: 20px">라우팅이란 무엇인가요?</strong>
    </summary>
    <br/>
    <details>
        <summary>
            <strong>라우팅을 할 때 효율적 경로를 선택한다는데 효율적 경로를 어떻게 선택하는걸까요?</strong>
        </summary>
        출발지에서 목적지까지 가는 동안 거치는 라우터의 개수인 홉 카운트, 각 링크의 대역폭, 현재 부하 상태 등 여러 가지 기준들을 고려하여 경로를 선택합니다. 라우팅 프로토콜들은 각자의 방식으로 비용을 계산합니다.
        <br/>
    </details>
    <details>
        <summary>
            <strong>라우팅 프로토콜이 다양한 기준으로 측정해서 비용을 계산한다면, 이런 비용 계산을 위해 필요한 값들은 어떻게 가져오나요? (대역폭, 지연 시간 등)</strong>
        </summary>
        <ul>
          <li>대역폭 : 네트워크 인터페이스의 물리적 특성으로 이미 알려져있습니다. 인터페이스 설정에서 직접 확인할 수 있습니다.</li>
          <li> 지연 시간 : ping 명령어와 비슷한 ICMP 에코 요청/응답을 사용합니다. 라우터 A가 라우터 B에 프로브 패킷을 보내고 패킷이 돌아올 때까지의 시간을 측정하여 왕복 시간(Round Trip Time, RTT)을 알 수 있습니다.</li>
          <li> 패킷 손실률 : 일정 기간 동안 보낸 프로브 패킷 중 몇개가 응답을 받지 못했는지를 계산합니다.</li>
          <li> 링크 사용률 : 인터페이스의 카운터를 모니터링하여 측정합니다. 각 네트워크 인터페이스가 송수신한 바이트 수를 카운터에 기록하는데, 이 값의 변화를 주기적으로 확인하여 현재 링크가 얼마나 사용되고 있는지 알 수 있습니다.</li>
          <br>
          이렇게 수집된 정보들은 라우팅 프로토콜의 메시지에 포함되어 네트워크 전체에 전파됩니다. 이런 측정과 정보 공유는 네트워크에 부하를 줄 수 있기 때문에 적절한 주기를 설정합니다. OSPF의 경우는 주기적으로 30분마다 업데이트 됩니다.
        </ul>
        <br/>
    </details>
    <br/>
</details>
<details>
    <summary>
        <strong style="font-size: 20px">RIP의 동작 방식에 대해 말해주세요</strong>
    </summary>
    RIP는 거리 벡터 라우팅 프로토콜의 대표적인 예시로, 각 라우터는 자신이 알고 있는 목적지까지의 거리를 이웃 라우터들과 주기적으로 공유합니다. 30초마다 한 번씩 전체 라우팅 테이블을 이웃들에게 브로드캐스트 하는 방식으로 동작합니다. 
    <br/>
    <details>
        <summary>
            <strong>RIP에서 발생할 수 있는 문제는 무엇인지 구체적으로 설명해주세요</strong>
        </summary>
        A ---- B ---- C
        <br>
        이런 네트워크에서 A→C는 B를 통해 2홉입니다. 여기서 갑자기 B-C 링크가 끊어지면 B는 C까지의 경로가 끊어졌다는 것을 알지만 A는 모릅니다. A가 다음 업데이트를 보낼 때, "나는 C까지 2홉이야" 라고 알리면, B는 A로부터 "A를 통해 C까지 3홉" 이라는 경로를 배우고, B는 다시 이 정보를 A에게 전달하며 "나는 C까지 4홉이야" 라고 전달합니다. 이런 식으로 증가하면서 무한대로 증가하는 Count to Infinity 문제가 발생합니다.
        <br/>
    </details>
    <details>
        <summary>
            <strong>Count to Infinity 문제는 어떻게 감지하고 해결할 수 있을까요?</strong>
        </summary>
        RIP는 최대 홉 카운트를 15로 제한하지만 이는 완전한 해결책이 아닙니다. 다음과 같은 기법들이 있습니다.
        <ul>
        <li> Split Horizon : 가장 기본적인 방법으로, 특정 인터페이스가 받은 경로 정보는 다시 그 인터페이스로 알리지 않는 규칙입니다.</li>
        <li> Split Horizon with Poison Reverse : 특정 인터페이스로 받은 경로에 대해 그 인터페이스로 "무한대" 거리를 알립니다.</li>
        <li> Triggered Updates : 링크 상태가 변경되면 30초를 기다리지 않고 즉시 업데이트를 보냅니다. 이를 통해 잘못된 정보가 전파될 시간을 줄입니다.</li>
        <li> Path Vector : BGP에서 사용하는 방식으로 단순히 거리만이 아니라 경로 전체를 저장합니다.</li>
        <br/>
        그럼에도 Count to Infinity 문제는 완전히 해결할 수는 없습니다. 이것이 RIP가 큰 네트워크에서는 잘 사용되지 않는 주요 이유 중 하나입니다.
        </ul>
    </details>
    </br>

</details>
<details>
    <summary>
        <strong style="font-size: 20px">네트워크 라우팅은 무엇인가요?</strong>
    </summary>
    네트워크 라우팅은 데이터 패킷이 출발지에서 목적지까지 가는 최적의 경로를 결정하고 전달하는 내비게이션 과정입니다.
    <br/>
    <details>
        <summary>
            <strong>OSPF와 RIP 프로토콜의 주요 차이점은 무엇인가요?</strong>
        </summary>
        RIP 프로토콜은 거리 벡터 라우팅 프로토콜의 대표적인 예시로 목적지까지 거치는 라우터의 개수만을 고려합니다. OSPF는 링크 상태 라우팅 프로토콜로 모든 라우터와 링크의 상태 정보를 계산합니다. 링크 상태 알고리즘은 더 많은 리소스를 사용하지만 더 빠르고 안정적인 반면, 거리 벡터 알고리즘은 더 단순하고 효율적이지만 오류에 취약합니다.
        <br/> 
    </details>
    <details>
        <summary>
            <strong>라우팅 프로토콜들은 네트워크 상태 변화에 어떻게 반응하나요?</strong>
        </summary>
        연결이 끊어지면 RIP는 다음 업데이트 주기(30초)를 기다리고 이웃들에게 거리가 무한대라고 알립니다. 다른 라우터들은 라우팅 테이블을 업데이트하여 새로운 경로를 찾고 이 과정에서 위에서 설명한 Count to Infinity 문제가 발생할 수 있습니다. OSPF는 즉시 링크 단절을 감지하고 변경된 링크 상태를 네트워크 전체에 신속하게 플러딩합니다. 모든 라우터는 변경 정보를 받는 즉시 자신의 토폴로지 데이터베이스를 업데이트하고 새로운 최적 경로를 계산합니다.
        <br/>
    </details>
    </br>
</details>
<details>
    <summary>
        <strong style="font-size: 20px">내부 라우팅과 외부 라우팅의 차이는 무엇인가요?</strong>
    </summary>
    내부 라우팅은 하나의 자율 시스템(Autonomous System, AS)내에서 이루어지는 라우팅입니다. AS는 동일한 관리 주체 하에 있는 네트워크로, 한 기업의 전체 네트워크나 한 대학의 캠퍼스 네트워크가 AS가 될 수 있습니다. RIP, OSFP가 대표적인 내부 라우팅 프로토콜이며, 외부 라우팅은 서로 다른 AS 사이의 라우팅을 담당합니다. 예를 들어 SK, KT, U+ 같은 서로 다른 ISP들 사이의 통신을 가능하게 하며 BGP가 대표적인 외부 라우팅 프로토콜입니다.
    <br/>
    <details>
        <summary>
            <strong>내부 라우팅과 외부 라우팅을 구분하는 이유가 있을까요?</strong>
        </summary>
        이렇게 내부와 외부 라우팅을 구분하는 이유는 먼저, 라우터의 수가 증가하면 라우팅 정보의 통신, 계산, 저장에 필요한 오버헤드가 걷잡을 수 없이 증가합니다. 오늘날의 인터넷은 수억 개의 라우터로 구성되고 이들 각각에 모든 가능한 목적지의 라우팅 정보를 저장하기 위해서는 막대한 메모리가 필요하며 브로드캐스트하는 데 필요한 오버헤드는 엄청날 것입니다. 또한 ISP들은 각각 자신의 라우터들로 구성된 네트워크들을 관리하는데, 이때 자신의 네트워크를 원하는 대로 운용하거나 내부 구성을 외부에 감추고 싶어할 수 있기 때문에 라우터들을 자율 시스템으로 조직화합니다.
        <br/>
    </details>
    <details>
        <summary>
            <strong>BGP 라우터가 TCP 연결을 통해 라우팅 정보를 교환하는 이유는 무엇인가요?</strong>
        </summary>
        <br/>
        BGP에서 잘못된 정보가 전파되면 인터넷 전체에 심각한 영향을 끼치므로 신뢰성이 중요합니다. 또한 BGP 라우터들은 지속적인 세션을 유지하면서 변경사항만을 주고받는데, TCP의 연결 지향적 특성이 이러한 요구사항과 잘 맞습니다. 그리고 BGP 라우터들이 처음 연결될 때는 전체 라우팅 테이블을 교환해야 하는데, 이는 수십만 개의 경로 정보를 포함할 수 있습니다. TCP의 흐름 제어 메커니즘으로 이러한 대량 데이터 전송을 효율적으로 관리할 수 있습니다.
    </details>
    </br>
</details>
