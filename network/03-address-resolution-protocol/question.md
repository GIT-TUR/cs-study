 <details>
  <summary><strong>ARP의 동작 원리에 대해 설명해주세요</strong></summary>

ARP(Address Resolution Protocol)는 IP 주소를 MAC 주소로 변환하는 프로토콜입니다.

송신 장치가 목적지 MAC 주소를 모를 때, **브로드캐스트로 ARP 요청**을 보내고, 응답을 받아 MAC 주소를 저장합니다. 이후 해당 MAC 주소를 사용해 데이터 전송을 수행합니다.

 <details>
  <summary><strong>요청 시 브로드캐스트를 사용하는 이유는 무엇일까요?</strong></summary>

브로드캐스트는 네트워크 내 모든 장치로 요청을 전달하는 방식입니다.

이를 통해 네트워크 내에 존재하는 모든 장치가 요청을 확인하고, 목적지 IP 주소와 일치하는 장치가 응답을 보낼 수 있습니다.

결론적으로, 브로드캐스트는 목적지 MAC 주소를 알 수 없는 초기 상태에서 네트워크 내의 모든 장치에게 정보를 요청하기 위해 사용됩니다.

  </details>

   <details>
  <summary><strong>요청 패킷과 응답 패킷의 구조는 어떻게 되나요?</strong></summary>

ARP 패킷은 출발지의 MAC, IP 주소와 목적지의 MAC, IP 주소를 가지고 있습니다. 요청 패킷의 경우 목적지 MAC 주소에 대한 정보를 모르기 때문에 0으로 설정해두고, 응답은 요청 패킷의 출발지 MAC 주소를 목적지 MAC 주소로 설정해둡니다.

추가로 Hardware type, Protocol type, Hardware address length, Protocol address length, Opcode가 있습니다.

  </details>

  </details>
<br/>
<details>
  <summary><strong>ARP 캐시의 역할은 무엇인가요?</strong></summary>

ARP 캐시는 네트워크에서 자주 사용되는 **IP 주소와 MAC 주소의 매핑 정보를 임시로 저장**하는 테이블입니다.  
 동일한 목적지로 데이터를 보낼 때마다 ARP 요청을 보내는 것은 비효율적이므로,
한 번 조회한 MAC 주소를 일정 시간 동안 저장하여 **네트워크 부하를 줄이고 성능을 최적화**하는 역할을 합니다.

<details>
  <summary><strong>ARP 캐시를 관리할 때 발생할 수 있는 문제가 있을까요?</strong></summary>

첫 번째 문제는 **ARP 스푸핑(캐시 중독)** 입니다.  
 공격자가 네트워크 내 장치들에게 잘못된 MAC 주소 정보를 응답하여,
사용자의 트래픽을 중간에서 가로채거나 다른 장치로 우회시키는 보안 문제가 발생할 수 있습니다.

두 번째 문제는 **캐시 만료 문제**입니다.  
 캐시의 유지 시간이 너무 짧으면 불필요한 ARP 요청이 반복적으로 발생하여 네트워크 부하가 증가할 수 있으며,
반대로 너무 길게 유지되면 MAC 주소가 변경되었을 때 갱신이 늦어져 통신 장애가 발생할 수 있습니다.

</details>

<details>
  <summary><strong>ARP 캐시 테이블의 수명은 어떻게 될까요? 그렇게 설정한 이유는 무엇일까요?</strong></summary>

ARP 캐시의 유지 시간(Time to Live, TTL)은 보통 **몇 분에서 수십 분 정도**로 설정됩니다.  
 네트워크 환경에 따라 다르지만, 보통 1분에서 20분 사이의 값이 일반적입니다.

너무 짧으면 **불필요한 ARP 요청이 증가**하여 네트워크 성능이 저하될 수 있고,  
 너무 길면 **변경된 MAC 주소를 반영하지 못하는 문제**가 발생할 수 있기 때문에,  
 네트워크의 안정성과 성능을 고려하여 적절한 TTL 값을 설정해야 합니다.

</details>

<details>
  <summary><strong>정적 ARP 엔트리와 동적 ARP 엔트리의 차이는 무엇인가요?</strong></summary>

**정적 ARP 엔트리**는 관리자가 직접 **IP 주소와 MAC 주소를 수동으로 매핑**하는 방식으로, 캐시가 만료되지 않고 **영구적으로 유지**됩니다.
따라서 **ARP 스푸핑과 같은 보안 문제를 예방**할 수 있지만,
네트워크 환경이 동적으로 변하는 경우 일일이 수동으로 관리해야 하는 단점이 있습니다.  
반면, **동적 ARP 엔트리**는 네트워크 장치가 **ARP 요청과 응답을 통해 자동으로 생성**하는 방식입니다.
일정 시간이 지나면 만료되며, 새로운 ARP 요청을 통해 갱신됩니다.
자동으로 관리된다는 장점이 있지만, **ARP 스푸핑 공격에 취약할 수 있다는 단점**이 있습니다.

</details>
</details>
<br/>
<details>
  <summary><strong>ARP 스푸핑에서 대해서 알고 계시나요? </strong></summary>

ARP 스푸핑(ARP Spoofing)은 공격자가 네트워크의 ARP 테이블에 **잘못된 MAC 주소를 주입**하여 통신을 가로채거나 변조하는 공격 기법입니다.  
공격자는 자신의 MAC 주소를 특정 IP 주소와 매핑하여, 피해자의 데이터가 공격자에게 전달되도록 조작할 수 있습니다.

<details>
  <summary><strong>어떻게 해결할 수 있을까요?</strong></summary>

중요한 장치들의 IP-MAC 매핑을 수동으로 설정하여, 잘못된 ARP 정보를 차단하는 방법입니다. 관리자가 사전에 모든 장치의 IP와 MAC 주소를 설정하면, ARP 스푸핑 공격이 무효화될 수 있습니다. 그러나 네트워크 변화가 잦은 환경에서는 관리 부담이 크다는 단점이 있습니다.

</details>

</details>
<br/>
<details>
  <summary><strong>라우터 간 통신에서 ARP를 하는 경우 심각한 네트워크 오버헤드가 발생할 것 같은데 이를 해결하는 방법은 무엇일까요?</strong></summary>

**첫 번째, ARP 캐시(Time to Live, TTL) 최적화**로
라우터는 ARP 요청을 통해 MAC 주소를 조회한 후, 이를 **ARP 캐시**에 저장합니다.  
 ARP 캐시의 TTL 값을 적절히 조정하면 **불필요한 재요청을 방지**할 수 있습니다.
너무 길면 변경 사항이 반영되지 않을 수 있고, 너무 짧으면 요청이 과도해질 수 있으므로
**네트워크 환경에 맞는 최적의 TTL 값을 설정하는 것이 중요**합니다.

**두 번째, Proxy ARP 활용**로로
**Proxy ARP**는 라우터가 특정 네트워크의 ARP 요청을 대신 응답하는 방식입니다.  
 같은 서브넷 내에서 ARP 요청을 직접 처리하는 대신, **Proxy ARP를 활용하면 불필요한 ARP 요청을 줄일 수 있습니다.**
다만, Proxy ARP는 보안상 위험(ARP 스푸핑 취약점)이 있을 수 있으므로 신중히 적용해야 합니다.

</details>
<br/>
<details>
  <summary><strong>ARP 통신에서 수신자가 같은 네트워크에 있는지 어떻게 판단하나요?</strong></summary>

송신 측은 **서브넷 마스크**를 사용해서 같은 네트워크인지 판단합니다.
먼저, 자신의 IP 주소와 목적지 IP 주소를 서브넷 마스크와 AND 연산합니다.
이 연산을 통해 **네트워크 주소를 계산**하고, 두 네트워크 주소가 같으면 같은 네트워크라고 판단합니다.

만약 네트워크 주소가 다르면, 수신자가 다른 네트워크에 있다고 판단하고
**게이트웨이**의 MAC 주소를 알아내기 위해 ARP 요청을 보냅니다.

<details>
  <summary><strong>다른 네트워크에 있는 장치의 MAC 주소를 어떻게 알아내나요?</strong></summary>

다른 네트워크에 있는 장치의 MAC 주소를 직접 알아내는 것은 불가능합니다.
대신, **기본 게이트웨이**의 MAC 주소를 사용합니다.

송신 측은 수신자의 IP 주소가 다른 네트워크에 있다고 판단하면, 패킷을 **게이트웨이**로 전달합니다.
이 과정에서 ARP 요청을 사용해 **게이트웨이의 MAC 주소를 알아낸 뒤, 데이터를 게이트웨이로 전송**합니다.
이후, 게이트웨이는 목적지 네트워크에서 다시 ARP를 사용해 **최종 목적지의 MAC 주소를 알아내고 데이터를 전달**합니다.

</details>
</details>
<br/>
<details>
  <summary><strong>ARP 요청과 ARP 응답의 차이점은 무엇인가요?</strong></summary>

ARP 요청을 보낼 때는 요청을 보낸 장치의 MAC 주소와 IP 주소가 포함되며, 목적지 MAC 주소는 아직 알 수 없기 때문에 **0으로 설정**됩니다.  
 이 요청은 **브로드캐스트 방식**으로 전송되며, 네트워크에 있는 모든 장치가 해당 요청을 받습니다.

ARP 응답은 목적지 장치가 자신의 MAC 주소를 요청을 보낸 장치에게 전달하는 과정입니다.  
 응답 패킷에는 응답을 보낸 장치의 MAC 주소와 IP 주소가 포함되며, 요청을 보낸 장치의 MAC 주소와 IP 주소도 함께 포함됩니다.
ARP 응답은 **유니캐스트 방식**으로 전송되며, 요청을 보낸 장치에게만 직접 전달됩니다.

</details>
